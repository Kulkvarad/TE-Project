#include<LCD_I2C.h>
#include<Wire.h>
#include<DHT11.h>
LCD_I2C lcd(0x27, 16, 2);

#define ldr 4
#define led 13
#define mq7 A0
#define buzzer 8
DHT11 dht11(3);

void setup()
 {
  pinMode(ldr, INPUT);
  pinMode(mq7,INPUT);
  pinMode(led,OUTPUT);
  pinMode(buzzer,OUTPUT);
  lcd.begin();
  lcd.backlight();
  Serial.begin(9600);
 }

void loop()
 {
  if(digitalRead(ldr)==1)
  {
    digitalWrite(led,HIGH);
  }
  else
  {
   digitalWrite(led,LOW);
  }
 

  int value = analogRead(mq7);
  

  int temp = dht11.readTemperature();
  
   
   if (temp == 253) {
    return;
   }

   lcd.setCursor(0, 0);
  lcd.print("CO Value:");
  lcd.print(value);
  lcd.print("  ");
  
  lcd.setCursor(0,1);
  lcd.print("Temperature: ");
  lcd.print(temp);
  Serial.print("CO Value: ");
  Serial.print(value);
  Serial.print("  Temperature: ");
  Serial.println(temp);
   if(value>410||temp>35)
   {
    digitalWrite(buzzer,HIGH);
    lcd.setCursor(0,0);
    lcd.print("ALERT!");
    lcd.setCursor(0,1);
    lcd.print("  ");
   }
   else
   {
    digitalWrite(buzzer,LOW);
   }
   
 }
